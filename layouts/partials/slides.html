<div class="relative" style="height:85vh; overflow: hidden;">
    {{ $shuffled := shuffle .Site.RegularPages }}
    {{ range first 3 (where $shuffled "Type" "itineary") }}
    <div class="absolute inset-0 w-screen items-center justify-center slide h-full">
        <a href="{{ .Permalink }}" class="absolute z-40 inset-0 w-full h-full"></a>
        {{if .Params.image}}
        <div class="w-full h-full lg:rounded-r-lg bg-cover bg-center bg-no-repeat flex-grow flex-shrink-0 absolute lg:w-1/2"
            style="background-image:url({{.Params.image | absURL}})"></div>
        <div
            class=" h-full w-full font-bold text-gray-100 lg:text-gray-900 absolute py-10 md:py-20 md:pr-40 px-10 md:px-20  md:pl-1/2 z-20">
            <div class="relative h-full w-full">
                <h1 class="text-4xl md:text-5xl lg:text-4xl">{{.Title}}</h1>
                <h3 class="text-xl md:text-2xl font-bold">subtitle</h3>
                <div class="py-5 absolute bottom-0">
                    <h3 class="text-xl md:text-xl font-bold">Starts at</h3>
                    <h3 class="text-xl md:text-xl">November 14, 2020 (Saturday) - 12:45 PM</h3>
                    <h3 class="text-xl md:text-xl font-bold">Ends at</h3>
                    <h3 class="text-xl md:text-xl">November 15, 2020 (Sunday) - 2:30 PM</h3>
                </div>
            </div>
        </div>
        <div
            class="bg-black bg-opacity-50 lg:hidden w-full h-full bg-cover bg-center bg-no-repeat flex-grow flex-shrink-0 absolute lg:w-1/2 z-10">
        </div>
    </div>
    {{else}}
    <div class="lg:rounded-r-lg bg-gradient-to-b from-orange-400 to-red-500 w-full h-full absolute inset-0 z-10"></div>
    <div class="h-full w-full font-bold text-gray-100 absolute py-10 md:py-20 md:pr-40 px-10 md:px-40 z-20">
        <div class="relative h-full w-full">
            <h1 class="text-4xl md:text-5xl lg:text-4xl">{{.Title}}</h1>
            <h3 class="text-xl md:text-2xl font-bold">subtitle</h3>
            <div class="py-5 absolute bottom-0">
                <h3 class="text-xl md:text-xl font-bold">Starts at</h3>
                <h3 class="text-xl md:text-xl">November 14, 2020 (Saturday) - 12:45 PM</h3>
                <h3 class="text-xl md:text-xl font-bold">Ends at</h3>
                <h3 class="text-xl md:text-xl">November 15, 2020 (Sunday) - 2:30 PM</h3>
            </div>
        </div>
    </div>
</div>

{{end}}

{{end}}
<div class="absolute top-0 bottom-0 right-0 w-16 flex items-center justify-center text-black cursor-pointer"
    style="height: 75vh;">
    <span onclick="nextSlide()" class="bg-white px-5 py-3 rounded-full">&#x276F;</span>
</div>
</div>
<style>
    /* .preload * {
  -webkit-transition: none !important;
  -moz-transition: none !important;
  -ms-transition: none !important;
  -o-transition: none !important;
} */
</style>
<script>
    let slides = document.querySelectorAll('.slide');
    slides.forEach(element => {
        element.classList.add('translate-x-full');
    });
    slides[0].classList.remove('translate-x-full');
    slides[0].classList.add('translate-x-0');
    slides.forEach(element => {
        element.classList.add('transition-all', 'ease-in-out', 'duration-1000', 'transform');
    });
    window.onload = function () {
        document.getElementsByClassName("preload")[0].classList.remove("preload");
    }
    function nextSlide() {
        let activeSlide = document.querySelector('.slide.translate-x-0');
        activeSlide.classList.remove('translate-x-0');
        activeSlide.classList.add('-translate-x-full');
        let nextSlide;
        if (activeSlide.nextElementSibling.nextElementSibling == null) {
            nextSlide = document.querySelectorAll('.slide.-translate-x-full');
            nextSlide.forEach(element => {
                element.classList.remove('-translate-x-full');
                element.classList.add('translate-x-full');
            });
            nextSlide[0].classList.remove('translate-x-full');
            nextSlide[0].classList.add('translate-x-0');
        }
        else {
            nextSlide = activeSlide.nextElementSibling;
            nextSlide.classList.remove('translate-x-full');
            nextSlide.classList.add('translate-x-0');
        }

    }

// var readMarkdown = require('read-markdown')

// readMarkdown('000.md')
//     .then(function(data){
//         console.log(data)
//     })
//     .catch(console.error)
</script>